var z=Object.defineProperty;var O=(n,t,e)=>t in n?z(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var l=(n,t,e)=>(O(n,typeof t!="symbol"?t+"":t,e),e);const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}};D();const C={};let k;function T(n){!Object.keys(C).length||(Object.values(C).forEach(t=>{t.push(n-k)}),k=n,requestAnimationFrame(T))}function _(n){if(C[n])throw new Error("can't start measuring twice");C[n]=[],Object.keys(C).length===1&&(k=performance.now(),requestAnimationFrame(T))}function j(n){if(!C[n])throw new Error(`${n} measurer doesn't exist`);const t=C[n];delete C[n];const e=t.reduce((o,a)=>o+a,0),s=e/t.length;return[1e3/s,e,t]}function N(n){let t=n.length,e;for(;t!=0;)e=Math.floor(Math.random()*t),t--,[n[t],n[e]]=[n[e],n[t]];return n}const b=10,A=1;class W{constructor(t){l(this,"inkBlocks",[]);l(this,"inkBlockInProgress",null);l(this,"isInsta",!1);l(this,"isFast",!1);l(this,"movingParticles",new Set);this.particleManager=t}isBusy(){return!!this.inkBlockInProgress}register(t){this.inkBlocks.push(t),t.onClick(this.handleOnInkBlockClick.bind(this))}unregister(t){this.inkBlocks=this.inkBlocks.filter(e=>e!==t)}recalculateAll(){this.inkBlocks.forEach(t=>t.recalculate())}handleOnInkBlockClick(t){if(this.inkBlockInProgress){this.inkBlockInProgress===t&&(this.isFast?([...this.movingParticles].forEach(e=>{this.particleManager.finishParticle(e)}),this.isInsta=!0):this.isFast=!0);return}_(this.inkBlocks.indexOf(t).toString()),this.provideInkTo(t)}getAllInk(){return this.inkBlocks.reduce((t,e)=>t+e.getTakenParticleAmount(),0)}getInkForInkBlock(t,e){const s=[];let i=e;const o=[t];for(;i&&o.length!==this.inkBlocks.length;){const a=N([...this.inkBlocks.filter(r=>!o.includes(r)).slice(0,5)]);a.forEach(r=>{const h=Math.floor(i/a.length)||i;if(h>0){const u=r.wipeParticleAmount(h);u.length===0&&o.push(r),i-=u.length,s.push(...u)}})}return s}provideInkTo(t){this.inkBlockInProgress=t;const e=this.isFast?b*5:b,s=this.isFast?A*5:A,i=this.getInkForInkBlock(t,this.isInsta?t.getMissingParticleAmount():Math.min(e,t.getMissingParticleAmount())),o=t.allocateParticlePlaces(i.length);if(o.length){if(this.isInsta)for(let r=0;r<o.length;r+=1)t.receiveParticleCoord(o[r]);else for(let r=0;r<o.length;r+=s){const c=o[r],h=i[r],u=this.particleManager.getParticleFromPool();this.movingParticles.add(u),this.particleManager.moveParticle(u,h,c,!0).then(()=>{this.movingParticles.delete(u),t.receiveParticle(u);for(let d=r+1;d<Math.min(r+s,o.length);d+=1)t.receiveParticleCoord(o[d])})}window.requestAnimationFrame(()=>this.provideInkTo(t))}else{this.inkBlockInProgress=null,this.isInsta=!1,this.isFast=!1;const[r]=j(this.inkBlocks.indexOf(t).toString());console.log("average fps",r)}}}class H{constructor(t,e){l(this,"pool",new Set);l(this,"moveStartCount",0);l(this,"moveFinishCount",0);l(this,"moveEventCount",0);this.particleSpace=t;for(let s=0;s<e;s+=1)this.populateParticle()}release(t){t.node.style.opacity=0 .toString(),t.state="pool",t.node.classList.remove("moving"),this.pool.add(t)}getParticleFromPool(){this.pool.size===0&&this.populateParticle();const[t]=this.pool;return this.pool.delete(t),t}moveParticle(t,e,s,i=!0){if(t.state==="moving")throw new Error("cant move particle twice");return t.state="moving",t.node.style.opacity=1 .toString(),t.node.style.setProperty("--transformFrom",`translate(${e.x}px, ${e.y}px) scale(1)`),t.node.style.setProperty("--transformMiddle",`translate(${(.5-Math.random())*50+e.x}px, ${(.5-Math.random())*20+e.y}px) scale(2)`),t.node.style.setProperty("--transformTo",`translate(${s.x}px, ${s.y}px) scale(1)`),i&&t.node.classList.add("moving"),this.pool.delete(t),this.moveStartCount+=1,new Promise(o=>{t.resolver=o,i?t.node.addEventListener("animationend",()=>{this.moveEventCount+=1,o()},{once:!0}):o()})}finishParticle(t){var e;t.state==="moving"&&(t.node.style.opacity=0 .toString(),(e=t.resolver)==null||e.call(t))}populateParticle(){const e=document.createElement("div");e.classList.add("particle"),e.style.setProperty("--particleSize",`${1/window.devicePixelRatio}px`),this.particleSpace.appendChild(e),this.pool.add({node:e,state:"pool"})}}function x(n,t,e=2){const s=document.createElement("canvas"),i=e;s.width=n*i,s.height=t*i,s.style.width=`${n}px`,s.style.height=`${t}px`;const o=s.getContext("2d");return o==null||o.setTransform(i,0,0,i,0,0),[s.getContext("2d"),s]}function*F(n,t,e,s){const i=n.canvas,{width:o,height:a}=i,r=n.getImageData(0,0,o,a).data,c=s*window.devicePixelRatio,h=Math.floor(a/c);for(let u=0;u<h;u+=1)for(let d=0;d<o;d+=1)for(let p=u*c;p<Math.min(h,u+1)*c;p+=1){const m=p*4*o+d*4;(r[m]+r[m+1]+r[m+2])/3>=t||(yield{x:e.x+d/window.devicePixelRatio,y:e.y+p/window.devicePixelRatio})}}const Y=(n,t,e)=>{if(!n)throw new Error("No context");return n.fillRect(0,0,t.width,t.height),n.drawImage(t,0,0,t.width,t.height),[...F(n,240,{x:e.x,y:e.y},t.height)]},$=n=>{const t=new Image;return t.src=n,t};function v(n,t,e){const s=e.value;return e.value=function(...i){const o=this,a=o.getTakenParticleAmount(),r=o.getParticleAmount(),c=a/r;return o.node.classList.contains("ink-block")||o.node.classList.add("ink-block"),o.node.style.setProperty("--progress",c.toString()),s.apply(o,i)},e}var G=Object.defineProperty,V=Object.getOwnPropertyDescriptor,J=(n,t,e,s)=>{for(var i=s>1?void 0:s?V(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(s?a(t,e,i):a(i))||i);return s&&i&&G(t,e,i),i};class E{constructor(t,e,s,i){l(this,"particleCoordList",[]);l(this,"particleCount",0);l(this,"takenParticleCount",0);l(this,"allocatedParticleCount",0);l(this,"context");l(this,"canvas");l(this,"rect",new DOMRect);l(this,"image");l(this,"onCompleteCallbacks",[]);l(this,"onFullCallbacks",[]);l(this,"onEmptyCallbacks",[]);l(this,"callbacks",[]);this.node=t,this.particleManager=e;const o=$(s);this.image=o,o.onload=()=>{const[a,r]=x(o.width,o.height,window.devicePixelRatio);this.context=a,this.canvas=r,this.canvas.classList.add("square-block"),t.appendChild(r),requestAnimationFrame(()=>{this.recalculate(),i&&(this.takenParticleCount=this.particleCount),this.addListener()})}}recalculate(){!this.canvas||!this.context||(this.rect=this.canvas.getBoundingClientRect(),this.rect.x=window.scrollX+this.rect.x,this.rect.y=window.scrollY+this.rect.y,this.particleCoordList=Y(this.context,this.image,this.rect),this.particleCount=this.particleCoordList.length,this.updateSquare())}getParticleAmount(){return this.particleCount}getTakenParticleAmount(){return this.takenParticleCount}onComplete(t){this.onCompleteCallbacks.push(t)}onFull(t){this.onFullCallbacks.push(t)}onEmpty(t){this.onEmptyCallbacks.push(t)}onClick(t){this.callbacks.push(t)}getMissingParticleAmount(){return this.particleCount-this.allocatedParticleCount-this.takenParticleCount}allocateParticlePlaces(t){const e=[],s=this.takenParticleCount+this.allocatedParticleCount,i=Math.min(this.particleCount-s,t);this.allocatedParticleCount+=i;for(let o=s;o<s+i;o+=1)e.push(this.particleCoordList[o]);return e}wipeParticleAmount(t){const e=[];if(this.takenParticleCount===0)return e;const s=Math.min(this.takenParticleCount,t);for(let i=this.takenParticleCount-1;i>this.takenParticleCount-1-s;i-=1)e.push(this.particleCoordList[i]);return this.takenParticleCount-=s,this.handleParticleAmountChange(),e}receiveParticleCoord(){this.allocatedParticleCount-=1,this.takenParticleCount+=1,this.handleParticleAmountChange()}receiveParticle(t){this.allocatedParticleCount-=1,this.takenParticleCount+=1,this.handleParticleAmountChange(),this.particleManager.release(t)}handleParticleAmountChange(){this.takenParticleCount===0&&this.onEmptyCallbacks.forEach(t=>t(this)),this.takenParticleCount===this.particleCount-this.allocatedParticleCount&&this.onFullCallbacks.forEach(t=>t(this)),this.takenParticleCount===this.particleCount&&this.onCompleteCallbacks.forEach(t=>t(this)),this.updateSquare()}addListener(){var t;(t=this.canvas)==null||t.addEventListener("click",()=>{this.callbacks.forEach(e=>e(this))})}updateSquare(){if(!!this.context){this.context.fillStyle="black",this.context.clearRect(0,0,1e3,1e3);for(let t=0;t<this.takenParticleCount;t+=1){const e=this.particleCoordList[t];this.context.fillRect(e.x-this.rect.x,e.y-this.rect.y,1,1)}}}}J([v],E.prototype,"handleParticleAmountChange",1);var U=Object.defineProperty,X=Object.getOwnPropertyDescriptor,Z=(n,t,e,s)=>{for(var i=s>1?void 0:s?X(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(s?a(t,e,i):a(i))||i);return s&&i&&U(t,e,i),i};class B{constructor(t,e,s,i){l(this,"particleCoordList",[]);l(this,"particleCount",0);l(this,"takenParticleCount",0);l(this,"allocatedParticleCount",0);l(this,"size");l(this,"context");l(this,"canvas");l(this,"rect",new DOMRect);l(this,"onCompleteCallbacks",[]);l(this,"onFullCallbacks",[]);l(this,"onEmptyCallbacks",[]);l(this,"callbacks",[]);this.node=t,this.particleManager=e,this.particleCount=Math.pow(Math.ceil(Math.sqrt(s)),2);const o=Math.sqrt(this.particleCount),[a,r]=x(o,o,window.devicePixelRatio);this.context=a,this.size=o,this.canvas=r,this.canvas.classList.add("square-block"),t.appendChild(r),requestAnimationFrame(()=>{this.recalculate(),i&&(this.takenParticleCount=this.particleCount),this.updateSquare("full"),this.addListener()})}recalculate(){this.rect=this.canvas.getBoundingClientRect(),this.rect.x=window.scrollX+this.rect.x,this.rect.y=window.scrollY+this.rect.y;const t=Math.sqrt(this.particleCount);this.particleCoordList=[];for(let e=0;e<t;e+=1)for(let s=0;s<t;s+=1)this.particleCoordList.push({x:s+this.rect.x,y:e+this.rect.y})}getParticleAmount(){return this.particleCount}getTakenParticleAmount(){return this.takenParticleCount}onComplete(t){this.onCompleteCallbacks.push(t)}onFull(t){this.onFullCallbacks.push(t)}onEmpty(t){this.onEmptyCallbacks.push(t)}onClick(t){this.callbacks.push(t)}getMissingParticleAmount(){return this.particleCount-this.allocatedParticleCount-this.takenParticleCount}allocateParticlePlaces(t){const e=[],s=this.takenParticleCount+this.allocatedParticleCount,i=Math.min(this.particleCount-s,t);this.allocatedParticleCount+=i;for(let o=s;o<s+i;o+=1)e.push(this.particleCoordList[o]);return e}wipeParticleAmount(t){const e=[];if(this.takenParticleCount===0)return e;const s=Math.min(this.takenParticleCount,t),i=this.takenParticleCount;for(let o=i-1;o>i-1-s;o-=1)e.push(this.particleCoordList[o]),this.takenParticleCount-=1,this.handleParticleAmountChange(-1);return e}receiveParticleCoord(){this.allocatedParticleCount-=1,this.takenParticleCount+=1,this.handleParticleAmountChange(1)}receiveParticle(t){this.allocatedParticleCount-=1,this.takenParticleCount+=1,this.handleParticleAmountChange(1),this.particleManager.release(t)}handleParticleAmountChange(t){this.takenParticleCount===0&&this.onEmptyCallbacks.forEach(e=>e(this)),this.takenParticleCount===this.particleCount-this.allocatedParticleCount&&this.onFullCallbacks.forEach(e=>e(this)),this.takenParticleCount===this.particleCount&&this.onCompleteCallbacks.forEach(e=>e(this)),t>0?this.updateSquare("add"):this.updateSquare("remove")}addListener(){this.canvas.addEventListener("click",()=>{this.callbacks.forEach(t=>t(this))})}updateSquare(t){if(this.context.fillStyle="black",t==="add"){const e=this.particleCoordList[this.takenParticleCount-1];this.context.fillRect(e.x-this.rect.x,e.y-this.rect.y,1,1)}if(t==="remove"){const e=this.particleCoordList[this.takenParticleCount-1];e&&this.context.clearRect(e.x-this.rect.x,e.y-this.rect.y,1,1)}if(t==="full")if(this.takenParticleCount>this.particleCount/2){this.context.fillRect(0,0,this.size,this.size);for(let e=this.takenParticleCount-1;e<this.particleCount;e+=1){const s=this.particleCoordList[e];this.context.clearRect(s.x-this.rect.x,s.y-this.rect.y,1,1)}}else{this.context.clearRect(0,0,this.size,this.size);for(let e=0;e<this.particleCount&&!(e>=this.takenParticleCount);e+=1){const s=this.particleCoordList[e];this.context.fillRect(s.x-this.rect.x,s.y-this.rect.y,1,1)}}}}Z([v],B.prototype,"handleParticleAmountChange",1);function K(n="Fira Code"){const e=document.createElement("canvas");e.width=32,e.height=32;const s=e.getContext("2d");if(!s)throw new Error("no context");s.font=`100px '${n}'`,s.fillStyle="#f00",s.textBaseline="top",s.fillText("F",0,0);const i=s.getImageData(0,0,32,32).data;let o,a=i.length-32*4;for(o=a;o<i.length&&!i[o];o+=4);const r=(o-a)/4;for(a=(32-1)*4,o=a;o<i.length&&!i[o];o+=32*4);const c=(o-a)/(32*4);return{x:r,y:c}}const I=.13;function Q(n,t,e,s){const{width:i,height:o,x:a,y:r}=s,[c]=x(i,o,window.devicePixelRatio),h=K(e);if(!c)throw new Error("No context");c.fillStyle="white",c.fillRect(0,0,i,o),c.font=`${t}px '${e}'`,c.fillStyle="black",c.textBaseline="top";const u=n.split(" ");let d=0,p=0;const m=[];for(let f=0;f<u.length;f+=1){const q=c.measureText(u.slice(p,f+1).join(" ")).width,R=f;if(q>i){const w=u.slice(p,R).join(" ")+" ";c.fillText(w,0,-h.y*(t*.01)+t*I+d*t),m.push(w.length),p=f,d+=1}}return c.fillText(u.slice(p).join(" "),0,-h.y*(t*.01)+t*I+d*t),[[...F(c,240,{x:a,y:r},t)],c.measureText("T").width,m]}var tt=Object.defineProperty,et=Object.getOwnPropertyDescriptor,it=(n,t,e,s)=>{for(var i=s>1?void 0:s?et(t,e):t,o=n.length-1,a;o>=0;o--)(a=n[o])&&(i=(s?a(t,e,i):a(i))||i);return s&&i&&tt(t,e,i),i};class S{constructor(t,e,s,i,o,a){l(this,"particleCoordList",[]);l(this,"particleCount",0);l(this,"takenParticleCount",0);l(this,"allocatedParticleCount",0);l(this,"particlesInPossession",[]);l(this,"fullText");l(this,"fullLetterCount");l(this,"revealedLetterCount",0);l(this,"oneLetterWidth",0);l(this,"oneLetterHeight",0);l(this,"lettersPerRow",[]);l(this,"rect",new DOMRect);l(this,"onCompleteCallbacks",[]);l(this,"onFullCallbacks",[]);l(this,"onEmptyCallbacks",[]);l(this,"callbacks",[]);this.node=t,this.particleManager=e,this.text=s,this.font=i,this.fontFamily=o,this.isComplete=a,t.classList.add("text-block","ink-block"),t.style.fontSize=`${i}px`,t.style.fontFamily=o,t.style.lineHeight=`${i}px`,this.fullText=s,this.fullLetterCount=s.length,this.updateText(),requestAnimationFrame(()=>{this.recalculate(),this.isComplete&&(this.revealedLetterCount=this.fullText.length,this.takenParticleCount=this.particleCoordList.length,this.allocatedParticleCount=0,this.updateText()),this.assignEvents()})}recalculate(){this.rect=this.node.getBoundingClientRect(),this.rect.x=window.scrollX+this.rect.x,this.rect.y=window.scrollY+this.rect.y;const[t,e,s]=Q(this.text,parseInt(this.font,10),this.fontFamily,this.rect);this.particleCoordList=t,this.oneLetterWidth=e,this.oneLetterHeight=parseInt(this.font,10),this.lettersPerRow=s,this.particleCount=this.particleCoordList.length,this.takenParticleCount>this.particleCount&&(this.takenParticleCount=this.particleCount)}onComplete(t){this.onCompleteCallbacks.push(t)}onFull(t){this.onFullCallbacks.push(t)}onEmpty(t){this.onEmptyCallbacks.push(t)}getTakenParticleAmount(){return this.takenParticleCount}getParticleAmount(){return this.particleCount}getMissingParticleAmount(){const t=this.takenParticleCount+this.allocatedParticleCount;return this.particleCount-t}allocateParticlePlaces(t){const e=[],s=this.takenParticleCount+this.allocatedParticleCount,i=Math.min(this.particleCount-s,t);this.allocatedParticleCount+=i;for(let o=s;o<s+i;o+=1)e.push(this.particleCoordList[o]);return e}releaseParticle(t){const e=this.particlesInPossession[t];!e||(this.particleManager.release(e),delete this.particlesInPossession[t])}wipeParticleAmount(t){const e=[];if(this.takenParticleCount===0)return e;const s=Math.min(this.takenParticleCount,t);for(let i=this.takenParticleCount-1;i>this.takenParticleCount-1-s;i-=1)e.push(this.particleCoordList[i]),this.releaseParticle(i);return this.takenParticleCount-=s,this.handleParticleAmountChange(),e}receiveParticleCoord(){this.allocatedParticleCount-=1,this.takenParticleCount+=1,this.handleParticleAmountChange()}receiveParticle(t){this.allocatedParticleCount-=1,this.takenParticleCount+=1,this.particlesInPossession[this.takenParticleCount-1]=t,this.handleParticleAmountChange()}onClick(t){this.callbacks.push(t)}handleParticleAmountChange(){this.takenParticleCount===0&&(this.onEmptyCallbacks.forEach(c=>c(this)),this.onEmptyCallbacks=[]),this.takenParticleCount===this.particleCount-this.allocatedParticleCount&&(this.onFullCallbacks.forEach(c=>c(this)),this.onFullCallbacks=[]),this.takenParticleCount===this.particleCount&&(this.onCompleteCallbacks.forEach(c=>c(this)),this.onCompleteCallbacks=[]);const t=this.particleCoordList[this.takenParticleCount-1]||{x:0,y:0},e=Math.max(t.x-this.rect.x,0),s=Math.max(t.y-this.rect.y,0),i=Math.floor(s/this.oneLetterHeight),o=this.lettersPerRow.slice(0,i).reduce((c,h)=>h+c,0),a=Math.floor(e/this.oneLetterWidth)+o,r=this.fullLetterCount-this.revealedLetterCount===1;if(this.takenParticleCount===this.particleCount||this.revealedLetterCount!==a){r&&this.takenParticleCount===this.particleCount?this.revealedLetterCount=this.fullLetterCount:this.revealedLetterCount=a;for(let c=0;c<this.takenParticleCount;c+=1)this.releaseParticle(c);this.updateText()}}updateText(){const t=this.fullText.slice(0,this.revealedLetterCount)+this.fullText.slice(this.revealedLetterCount).replace(/\S/g,"&nbsp;"),e=this.fullText.slice(0,this.revealedLetterCount+1)+this.fullText.slice(this.revealedLetterCount+1).replace(/\S/g,"&nbsp;");this.node.innerHTML=`${t}<div>${e}</div>`,requestAnimationFrame(()=>{var s;(s=this.node.querySelector("div"))==null||s.classList.add("animate")})}assignEvents(){this.node.addEventListener("click",t=>{t.preventDefault(),t.button===0&&this.callbacks.forEach(e=>e(this))})}}it([v],S.prototype,"handleParticleAmountChange",1);const M=(n,t)=>(e,s)=>{const i=document.createElement("div");e.appendChild(i);let o=null;if(s.type==="TextBlock"&&(o=new S(i,n,s.text,s.fontSize,s.fontFamily,s.isComplete)),s.type==="SquareBlock"&&(o=new B(i,n,s.particleAmount,s.isComplete)),s.type==="ImageBlock"&&(o=new E(i,n,s.imageBase64,s.isComplete)),!o)throw new Error("unknown type");return t.register(o),requestAnimationFrame(()=>{t.recalculateAll()}),o},ot=(n,t,e)=>new Promise(s=>{const i=M(n,t),o=i(e.get("centerTop"),{type:"TextBlock",text:"Strive for simplicity, doesn't matter how complex it is",fontSize:"16",fontFamily:"Fira Code",isComplete:!1});requestAnimationFrame(()=>{const a=i(e.get("centerCenter"),{type:"SquareBlock",particleAmount:o.getParticleAmount(),isComplete:!0});o.onFull(()=>{a.node.remove(),t.unregister(a)}),o.onComplete(()=>{s()})})}),st="My name is Bagrat. And I really hope you took previous line seriously. I\u2019m a frontend developer. I enjoy creating systems and solutions for complex problems. But this isn\u2019t a LinkedIn page, this is my safe space. Here I\u2019ll try to form my vision.",nt="The tech still excites me, but over the time I started to look for something more than another frontend framework or development pattern. Sometimes I use my tech skills as a tool for crafting pieces that could be classified as art. Something that one can FEEL. I'll try to explain this.",at="While at work I spend my time creating efficient solutions where I\u2019m min-maxing every aspect of a problem, in my personal life I\u2019m more in favour of \u201Cform over function\u201D approach. I\u2019m ready to sacrifice some functionality if it\u2019ll make final form simpler. Don't get me wrong, I\u2019m not a masochist and I like my things to be functional, I just don\u2019t afraid of limitations. I think limitation sparks creativity. I like my keyboards to have less buttons than usual (e.g. I don\u2019t have arrow keys), so I had to be creative and come up with my own shortcuts for such keyboards, now I don\u2019t move my elbows when typing. Being simple doesn\u2019t always mean to be primitive. Opposite. Simple things can solve the biggest part of a problem. And usually it requires complex solution \u201Cunder the hood\u201D to support the simplicity. I spent a lot of time creating an Animation component that requires 0 configuration. It\u2019s very simple on surface but very complex behind the curtains. VIM is well aligned with my vision too, very simple cli tool that is preinstalled almost everywhere but still so powerful and complex behind the curtains. It limits you in comparing to full blown IDE, but also \u201Cunlocks\u201D you. This isn\u2019t a minimalism by any mean. I would say I just like disproportion of simplicity and the way this simplicity achieved. Think of Malevich square. Yes, this is how I end up going after art via tech, nobody expect any function from art, so it can look as simple as I want, but most of the people won\u2019t find immediate answer on how this is implemented. This is the fastest way for me to express myself. Take this this page, this is the simplicity I\u2019m talking about. Page has only black and white colors. But it sparked my creativity and I had to use those colors in unusual way. It limits you as a user, this forces you to think outside of the box. It makes you think and imagine how hard is to implement such animation. Let me tell you, this is quite hard, but to make it performant is even more challenging. You already seen fps reports in console, doesn\u2019t look too bad, right? I went full throttle on optimization and precisely calculated illusion to make this simple thing work. I find this page to be in a perfect balance of functionality, simplicity and effort behind it. I really enjoyed crafting it. Because I strive for simplicity and it doesn\u2019t matter how complex it is.";var g={text:st,text1:nt,text2:at};const lt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHIAAAAeCAYAAADw60pcAAAACXBIWXMAACE4AAAhOAFFljFgAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAImSURBVHgB7ZoBroIwDIbLiwfxZnoD9QTqCfQG6s28yd5+EhKzN8bo1nY8+RKMIlL6/6ywYuc8tLJ4fmgBPJ9Per1etJLANc7lckHF6Be8X4nTtJGfJn6LmdwTl1VaT6cTdV1H1+uVpMC+fSJ/1mOddFzkhhwXhWNAwiMkNhJJYWSGcS3gjkjW0Z7PZzFRQzG32230vXRc5GiBqpFAwsyYmGFiWnGtUDcS1BR1TMxYYhpxrTAxEtQQNSXmWGLSca0wMxKUiDolZioxybhWmBoJOKLmiDmVmFRcK8yNBHNFzREzJ7EwboqWTQRcIzc1J9eYSPspAr3f7/7zMKH3YkW3Px6PdL/f++9jk/9cht8il8PhMLpd2GTAsdZubIzlqoGTXnzT23HhnqEhj8dDPE+i8gKn2qJbaY9NSUmLgUdOQ2kFKDW73Y6s2e/3/XF9llGUVqzXAv1bXEqgeWkJHi4TuDzdbjeqerMjcSNRq7QOSHSGcsmJm5NvqHO/b1cJqbvB2kYCKzNz4k7lO6ZzFSMlb+kljAStmpnKN6VzsZHS8zIpI0GLZo7lO6VzkZEak2tJI0FrZsbyzdGZbaRWh0TaSNCSmWG+uTqzjNRsc2kYCVoxM/UgPaVz8V89pHuVWkaCOT1bybixZUpn1tH6SaiKiUDTSDCI6nu2TpOUmTk66512TLSNtCRmZu5gad7Ib+PTzDkVr8MLrTQF+tV4vDanR70a+U/4BVC/RT5R8dYoAAAAAElFTkSuQmCC",rt=(n,t,e)=>new Promise(s=>{const i=M(n,t);i(e.get("centerCenter"),{type:"TextBlock",text:"Before I introduced myself, I have to say something",fontSize:"14",fontFamily:"Fira Code",isComplete:!1}).onComplete(()=>{i(e.get("centerCenter"),{type:"TextBlock",text:"We're short on ink",fontSize:"14",fontFamily:"Fira Code",isComplete:!1}).onComplete(()=>{i(e.get("centerCenter"),{type:"TextBlock",text:"Now we have to be curious. Where we can get that ink from?",fontSize:"14",fontFamily:"Fira Code",isComplete:!1}).onComplete(()=>{i(e.get("centerCenter"),{type:"TextBlock",text:"You should try to TAB around",fontSize:"14",fontFamily:"Fira Code",isComplete:!1}).onComplete(()=>{i(e.get("centerCenter"),{type:"TextBlock",text:g.text,fontSize:"14",fontFamily:"Fira Code",isComplete:!1}).onComplete(()=>{i(e.get("centerCenter"),{type:"TextBlock",text:g.text1,fontSize:"14",fontFamily:"Fira Code",isComplete:!1}).onComplete(()=>{i(e.get("leftCenter"),{type:"ImageBlock",imageBase64:lt,isComplete:!1});const h=[];window.addEventListener("keydown",({key:u})=>{if(h.push(u),h.length>4&&h.shift(),h.join("")==="ArrowRightArrowUpArrowLeftArrowDown"){i(e.get("leftCenter"),{type:"TextBlock",text:"Here you go! I'm happy that you came up with an idea to use arrow keys! By the way, did you check console? Maybe there is a way to hack this ink situation?",fontSize:"14",fontFamily:"Fira Code",isComplete:!0}),console.log("%c Oh, look who is here, the curious one!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)"),console.log("%c I did all the hacking for you and discovered this method: InkMachine_GiveMeSecretLine()","color: green");let d=!1;window.InkMachine_GiveMeSecretLine=()=>{if(t.isBusy()){console.log("wait for the end of animation");return}if(d)throw new Error("you can't hack twice, cmon");d=!0,i(e.get("rightCenter"),{type:"TextBlock",text:"Tssssss. This is very secret message. I really wanted you to question - How did he do this animation? Well, if I succeed and you're interested, I suggest to visit my github repo clbagrat/my-profile and read sources.",fontSize:"14",fontFamily:"Fira Code",isComplete:!0}).onClick(()=>{window.open("https://github.com/clbagrat/my-profile","_blank")}),console.log("%c DONE!","font-weight: bold; font-size: 50px;color: red; text-shadow: 3px 3px 0 rgb(217,31,38) , 6px 6px 0 rgb(226,91,14) , 9px 9px 0 rgb(245,221,8) , 12px 12px 0 rgb(5,148,68) , 15px 15px 0 rgb(2,135,206) , 18px 18px 0 rgb(4,77,145) , 21px 21px 0 rgb(42,21,113)")}}})});const a=i(e.get("centerCenter"),{type:"TextBlock",text:g.text2,fontSize:"14",fontFamily:"Fira Code",isComplete:!1}),r=[];a.onComplete(()=>{r.forEach(h=>{t.unregister(h),h.node.remove()}),requestAnimationFrame(()=>{t.recalculateAll()}),s()});let c=!1;window.addEventListener("hashchange",({newURL:h})=>{if(!c&&h.split("#")[1]==="i_want_to_see_all"){c=!0;const u=a.getParticleAmount(),d=t.getAllInk(),p=u-d;for(let m=0;m<Math.floor(p/9e3)+1;m+=1){const f=["leftTop","rightBottom","rightCenter","centerBottom","centerTop","leftCenter"][m%6];r.push(i(e.get(f),{type:"SquareBlock",particleAmount:Math.min(9e3,p-m*9e3),isComplete:!0}))}}})})})})})});const o=document.createElement("button");o.classList.add("invisible-button"),o.addEventListener("click",()=>{o.remove(),i(e.get("rightCenter"),{type:"TextBlock",text:"Nice catch! Here the advice for you: You can double click to SCROLL though the ink faster.",fontSize:"14",fontFamily:"Fira Code",isComplete:!0});let a=10;const r=()=>{if(a-=1,a===0){i(e.get("leftTop"),{type:"TextBlock",text:"Look at you scroll! What other I/O devices you have in your posession?",fontSize:"14",fontFamily:"Fira Code",isComplete:!0});let c=!1;window.addEventListener("keypress",h=>{c||(h.preventDefault(),i(e.get("rightTop"),{type:"TextBlock",text:"Yep, thats the keyboard! I guess we can continue reading :)",fontSize:"14",fontFamily:"Fira Code",isComplete:!0}),c=!0)})}};document.addEventListener("mousewheel",r),document.addEventListener("wheel",r),document.addEventListener("scroll",r)}),e.get("rightCenter").appendChild(o)});const ct=["leftTop","centerTop","rightTop","leftCenter","centerCenter","rightCenter","leftBottom","centerBottom","rightBottom"];class ht{constructor(t){l(this,"cells",{});const e=document.createElement("div");e.classList.add("grid"),t.appendChild(e),ct.forEach(s=>{const i=document.createElement("div");this.cells[s]=i,e.appendChild(i)})}get(t){return this.cells[t]}}const ut=document.querySelector(".particlePlace"),y=new H(ut,2500),P=new W(y),L=new ht(document.querySelector(".center"));window.addEventListener("resize",()=>{requestAnimationFrame(()=>{P.recalculateAll()})});window.fontLoaded.then(()=>{requestAnimationFrame(()=>{ot(y,P,L).then(()=>{rt(y,P,L).then(alert.bind(null,"You've made it! Thanks a lot for your time"))})})});
